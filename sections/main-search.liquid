<div class="wrapper">
  {%- if search.performed -%}
    <h1 class="title-1">{{ 'templates.search.title' | t }}</h1>
  {%- else -%}
    <h1 class="title-1">{{ 'general.search.search' | t }}</h1>
  {%- endif -%}
  <form action="{{ routes.search_url }}" method="get" role="search" class="section-pt relative flex w-full">
    <input type="hidden" name="type" value="product">
    <input
      type="search"
      name="q"
      value="{{ search.terms | escape }}"
      placeholder="{{ 'general.search.search' | t }}"
      class="inp search-inp"
    >
    <input name="options[prefix]" type="hidden" value="last">
    <button type="submit" class="btn btn-blue">
      {{ 'general.search.submit' | t }}
    </button>
  </form>
</div>

{% if search.performed %}
  {%- if search.results_count == 0 -%}
    <div class="wrapper section-pt">
      <p class="headline-2 opacity-50">
        {{ 'general.search.no_results_html' | t: terms: search.terms | replace: '*', '' }}
      </p>
    </div>
  {%- endif -%}
  {%- if search.results_count != 0 -%}
    {% paginate search.results by 24 %}
      <div class="wrapper section-pt collection-list">
        {%- liquid
          for item in search.results
            assign lazy_load = false
            if forloop.index > 2
              assign lazy_load = true
            endif
            render 'card-product', card_product: item, lazy_load: lazy_load
          endfor
        -%}
      </div>
      {% render 'quick-add-modal' %}
    {% endpaginate %}
  {%- endif -%}
{% endif %}
